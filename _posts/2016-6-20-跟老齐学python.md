---
layout: post
title: 跟老齐学python
date: 2016-6-20
categories: blog
tags: python
description: python 学习总结
---
本文来自[跟老齐学python](https://github.com/qiwsir/StarterLearningPython/blob/master/index.md)，希望从现在开始，重新努力学习python，把这本书中的一些重点积累在这里，一来督促自己学习，二来积攒一些学习的素材和经验。由于是自己学习，本文不会刻意追求排版的优美，只求清晰明了地记录一些自己认为重要的东西。

在此首先表示对老齐的由衷感谢，最近一段时间，我特别觉得，一个人能够把自己努力做出的一些成果无私地分享给其他人，实在是太伟大了，我是打心底里佩服和感谢，希望将来自己也可以通过自己的努力，慢慢地分享一些有用的东西，这是互联网时代，共享让世界更美好！

--------------
# Day 1

# 开头

开头的开头，请学会查看官方文档[The Python Tutorial](https://docs.python.org/2/tutorial/index.html)

python应用案例[https://www.python.org/about/success/](https://www.python.org/about/success/)

[编程匠艺训练](http://www.itdiffer.com/coding.html)

[What IDE to use for Python?](http://stackoverflow.com/questions/81584/what-ide-to-use-for-python)

# 第壹章 基本数据类型

## 数
在Python中，每个数字都是真实存在的，相对于我们——人类——来讲，它真实存在，它就是对象（object）。

比如整数3，就是一个对象。

每个对象，在内存中都有自己的一个地址，这个就是它的身份。

用内建函数id()可以查看每个对象的内存地址，即身份。用id()得到的内存地址，是只读的，不能修改。

```
>>> id(3)
140574872
>>> id(3.222222)
140612356
>>> id(3.0)
140612356
>>>

```

了解了“身份”，再来看“类型”，也有一个内建函数供使用type()。

```
>>> type(3)
<type 'int'>
>>> type(3.0)
<type 'float'>
>>> type(3.222222)
<type 'float'>

```

## 变量

在Python中，有这样一句话是非常重要的：**对象有类型，变量无类型**。

在Python中，整数可以无限大，但是，浮点数跟整数不同，它存在上限和下限，如果超出了上下的范围，就会出现溢出问题了。

[整数溢出](http://zhaoweizhuanshuo.blog.163.com/blog/static/148055262201093151439742/)

## 除法

python 2运算

```
>>> 2 / 5
0
>>> 2.0 / 5
0.4
>>> 2 / 5.0
0.4
>>> 2.0 / 5.0
0.4

```

在Python 2里面有一个规定，像2/5中的除法这样，是要取整（就是去掉小数，但不是四舍五入）。2除以5，商是0（整数），余数是2（整数）。那么如果用这种形式：2/5，计算结果就是商那个整数。或者可以理解为：**整数除以整数，结果是整数（商）**。

```
>>> 5 / 2
2
>>> 7 / 2
3
>>> 8 / 2
4

```

在Python 3.x中，规则又变了，如果 1/2 ，结果就是0.5，也就是说Python 3中的除法是真正的除法了，要取整，只能用 1//2 的方式，即 1//2=0 。

不管是Python 2还是Python 3，都有这种情况：

```
>>> 10.0 / 3
3.3333333333333335
>>> 0.1 + 0.2
0.30000000000000004
>>> 0.1 + 0.1 - 0.2
0.0
>>> 0.1 + 0.1 + 0.1 - 0.3
5.551115123125783e-17
>>> 0.1 + 0.1 + 0.1 - 0.2
0.10000000000000003

```

这是因为计算机在计算的时候，首先要把十进制转换成二进制，而转换时会出现近似，从而造成结果不精确，对于一般的情形，我们只需对结果进行四舍五入即可。

但是如果需要精确的结果，那么可以使用 decimal 模块，它实现的十进制运算适合会计方面的应用和高精度要求的应用。

另外 fractions 模块支持另外一种形式的运算，它实现的运算基于有理数（因此像1/3这样的数字可以精确地表示）。

最高要求则可是使用numPy 包和其它用于数学和统计学的包。

### 引用模块解决除法

```
>>> from __future__ import division
>>> 5 / 2
2.5
>>> 9 / 2
4.5
>>> 9.0 / 2
4.5
>>> 9 / 2.0
4.5

```
注意了，引用了一个模块之后，再做除法，就不管什么情况，都是得到浮点数的结果了。

### 余数

在Python中（其实大多数语言也都是），用 `%` 符号来取得两个数相除的余数.

除了使用 `%` 求余数，还有内建函数 `divmod()` ——返回的是商和余数。

要实现四舍五入，很简单，就是内建函数： `round()`，例如`round(1.234567, 2)` 为1.23


## math

import math 引入math模块， dir(module)查看查看模块有哪些方法

第一天就学习到这里，明天继续学习下一节：写一个简单程序

------------

# Day2

## 字符串
python如果要用到中文，需要在文件开头添加`#coding:utf-8`

连接字符串，用`+`，python 无法连接不同类型的对象，连接一个int型和一个str型的对象有以下三种方法

```
a=1998
b="hello"

print b+`a` #尽量不用这种方式
print b+ str(a)
or
print b+ repr(a)

```

[python内建函数](https://docs.python.org/2/library/functions.html)

python 中`\``通常被看做转义符，有时候为了使用其原始含义，需要使用转义符，例如

```
>>> dos = "c:\news"
>>> dos
'c:\news'             #这里貌似没有什么问题
>>> print dos    #当用print来打印这个字符串的时候，就出问题了。
c:
ews

```
用转义符可以解决

```
>>> print "c:\\news"
c:\news
or
>>> print r"c:\news"
c:\news
```

`ord()` 是一个内建函数，能够返回某个字符（注意，是一个字符，不是多个字符组成的串）所对一个的ASCII值（是十进制的），字符a在ASCII中的值是97，空格在ASCII中也有值，是32。顺便说明，反过来，根据整数值得到相应字符，可以使用 `chr()` ：


### 字符串格式化

```
>>> print "I like %s" % "python"
I like python
```

`%`现在已经不常用了，现在主要用`.format`,format 是字符串的一个方法，可以在`dir(str)`中查到，format方法的作用可以通过帮助文档`help(str)`来查看

```
>>>help(str.format)
Help on method_descriptor:
format(...)
    S.format(*args, **kwargs) -> string
    
    Return a formatted version of S, using substitutions from args and kwargs.
    The substitutions are identified by braces ('{' and '}').

```

## 坑爹的字符编码

[字符编码](https://github.com/qiwsir/StarterLearningPython/blob/master/110.md)

[字符编码笔记：ASCII，Unicode和UTF-8](http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html)

[Unicode.org](http://www.unicode.org/)

[Python2.x的中文显示方法](https://github.com/qiwsir/ITArticles/blob/master/Python/Python%E7%9A%84%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E6%96%B9%E6%B3%95.md)


## 列表——python中的苦力

```
>>> a = ['2', 3, 'qiwsir.github.io']
>>> a
['2', 3, 'qiwsir.github.io']
>>> type(a)
<type 'list'>
>>> bool(a)
True
>>> print a
['2', 3, 'qiwsir.github.io']

```
### 常用的列表函数

两个让列表扩容的函数 append() 和 extend() ，它们的共同点是“都能原地修改列表”。对于“原地修改”还应该增加一个理解——没有返回值。

原地修改没有返回值，就不能赋值给某个变量。

```
>>> one = ["good","good","study"]
>>> another = one.extend(["day","day","up"])    #对于没有提供返回值的函数，如果要这样，结果是：
>>> print anthor                                #打印变量another的值。如果是Python3则输入print(another)
None                                            #返回为None, one.extend()没有返回值，即是None.
>>> one
['good', 'good', 'study', 'day', 'day', 'up']

```

- list.remove(x) 中的参数是列表中元素，即删除某个元素，且对列表原地修改，无返回值
- list.pop([i]) 中的i是列表中元素的索引值，可选。为空则删除列表最后一个，否则删除索引为i的元素。并且将删除元素作为返回值。

### 反转

还是通过举例来演示反转的方法：

```
>>> alst = [1, 2, 3, 4, 5, 6]
>>> alst[: : -1]    #反转
[6, 5, 4, 3, 2, 1]
>>> alst
[1, 2, 3, 4, 5, 6]

```
对于字符串也可以：

```
>>> lang
'python'
>>> lang[::-1]
'nohtyp'
>>> lang
'python'

```

Python还有另外一种方法让列表反转，是比较容易理解和阅读的，特别推荐之：

```
>>> list(reversed(alst))
[6, 5, 4, 3, 2, 1]
>>> list(reversed("abcd"))
['d', 'c', 'b', 'a']

```

```
>>> help(reversed)
Help on class reversed in module __builtin__:

class reversed(object)
 |  reversed(sequence) -> reverse iterator over values of the sequence
 |  
 |  Return a reverse iterator

```



